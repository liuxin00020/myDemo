<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>字符串操作</title>
</head>
<body>
    <ul>
        <li>转为字符串：txt.toString();  String(txt)</li>
        <li>转为基数（如二进制）：txt.toString(基数);</li>
        <li>根据索引返回字符：txt.charAt(索引号); </li>
        <li>根据索引返回字符的Unicode编码：txt.charCodeAt(索引号)  常用于检测字符长度（中文处理）</li>
        <li>返回字符的第一个索引值（从左往右开始查找）：txt.indexOf("字符") </li>
        <li>返回字符的第一个索引值（从右往左开始查找）：txt.lastIndexOf("字符") </li>
        <li>字符串连接：contact() txt.concat(txt1)</li>
        <li>取指定位置字符串（起-终）：slice("起始位置",[结束位置]) 参数为负，则从右往左的第某个数-最后 </li>
        <li>取指定个数的字符串（起的个数）：subStr("起始位置",字符串个数)  </li>
    </ul>

    <script>
        var num = 123;
        console.log("转为字符串："+num.toString());
        console.log("转为字符串："+ String(num));
        console.log("转为二进制："+ num.toString(2));

        var txt = "abcdef";
        console.log("返回指定位置的字符："+ txt.charAt(1));
        console.log("返回指定位置的字符："+ txt.charCodeAt(0));

        var txt1 = "what are you are 弄啥呢";
        console.log("what are you 弄啥呢  length:"+txt1.length);
        console.log("what are you 弄啥呢  真实长度:"+ getStringLenght(txt1));
        console.log("字符索引indexOf:"+ txt1.indexOf("are"));//5
        console.log("字符索引lastIndexOf:"+ txt1.lastIndexOf("are"));//13 索引值不变

        //获取字符长度
        function getStringLenght(str) {
            var len = 0;
            var c = 0;
            for(var i=0 ;i<str.length;i++){
                c = str.charCodeAt(i);
                if( c >= 0 && c <= 127 ){ // 键盘字符除外，为2个长度
                   len++;
                }else{
                    len = len+2;
                }
            }
            return len;
        }

        //字符串连接
        console.log("txt contact txt1: "+txt.concat(txt1));

        //取指定字符串
        console.log("txt1 slice(3): "+txt1.slice(3));  //从3-最后的字符
        console.log("txt1 slice(3,8): "+txt1.slice(3,8));  //从3-8 的字符，不包含第8个
        console.log("txt1 slice（-3）: "+txt1.slice(-3));  //从右往左3-最后 的字符，不包含第8个
        console.log("txt1 slice（-3）: "+txt1.slice(-8,-3));  //从右往左-8 - 的字符，不包含第8个

        //subStr取指定个数的子串
        console.log("txt1 substr(3): " + txt1.substr(3));//第3-最后
        console.log("txt1 substr(3,8): " + txt1.substr(3,8));//第3个开始的8个字符
        console.log("txt1 substr(3,8): " + txt1.substr(txt1.length-1,3));//末尾开始的3个字符
    </script>
</body>
</html>